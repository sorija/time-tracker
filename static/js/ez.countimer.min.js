/*! countimer - v1.0.0 - 2017-03-28
* Simple jQuery plugin to start a basic count up timer on any HTML element
* http://www.envynoiz.io/countimer
* Copyright (c) 2017 envynoiz; Licensed MIT */
!function(a){"use strict";var b="plugin_",c="countimer";a.plugin=function(b,c){var d=this;d.options={},d.duration={};const e={ON_SECONDS:0,ON_MINUTES:1,ON_HOURS:2,FULL:3,MAX_INDEX:3},f=["second","minute","hour"];var g,h,i,j,k,l,m,n={displayMode:e.FULL,enableEvents:!1,autoStart:!0,useHours:!0,minuteIndicator:"",secondIndicator:"",separator:":",leadingZeros:2,initHours:0,initMinutes:0,initSeconds:0},o=function(a,b){var c="".concat(a);return c.length>=b?c:new Array(b-c.length+1).join("0")+c},p=function(a,b){var c=o(a,d.options.leadingZeros);return b?c.concat(d.options.separator):c},q=function(a,b){return""===a||a>b?b:a},r=function(){return moment.duration({seconds:d.options.initSeconds,minutes:d.options.initMinutes,hour:d.options.initHours})},s=function(){return{displayedMode:m[d.options.displayMode](),original:a.extend({},i)}},t=function(b){d.options.enableEvents&&a.each(b,function(a){b[a]&&h.trigger(f[a],s())})},u=function(b){i={hours:d.duration.hours(),minutes:d.duration.minutes(),seconds:d.duration.seconds()};var c=function(a,b){return{unformatted:a,formatted:b}},e={toSeconds:function(){var a=Math.trunc(d.duration.asSeconds()),b=p(a).concat(d.options.secondIndicator);return c({seconds:a},b)},toMinutes:function(){var a=Math.trunc(d.duration.asMinutes()),b=p(a).concat(d.options.minuteIndicator);return c({minutes:a},b)},toHours:function(){var a=Math.trunc(d.duration.asHours());return c({hours:a},p(a))},full:function(){var b=a.extend({},i),f=p(i.hours,!0).concat(p(i.minutes,!0)).concat(p(i.seconds));f=f.concat(d.options.secondIndicator);var g=e.toMinutes(),h={minutes:g.unformatted.minutes,seconds:i.seconds},j=p(h.minutes,!0).concat(p(h.seconds));return j=j.concat(d.options.secondIndicator),d.options.useHours?c(b,f):c(h,j)}},f=[!0,0===i.seconds,0===i.minutes&&0===i.seconds];if(m=[e.toSeconds,e.toMinutes,e.toHours,e.full],b||f[l]){var g=m[d.options.displayMode]();k?h.val(g.formatted):h.text(g.formatted)}t(f),d.duration=moment.duration(d.duration.asSeconds()+1,"seconds")},v=function(){if(j)return u(!0),d.intervalFunction=setInterval(u,1e3),j=!1,d},w=function(){d.options=a.extend({},n,c),d.options.displayMode=q(d.options.displayMode,e.MAX_INDEX),d.duration=r(),g=b,h=a(g),j=!0,k=void 0!==h.attr("value"),l=d.options.displayMode<=e.ON_HOURS?d.options.displayMode:e.ON_SECONDS,d.options.autoStart?d.start():u(!0)};d.start=function(){return d.duration=r(),v()},d.resume=function(){return v()},d.stop=function(){return d.intervalFunction&&(clearInterval(d.intervalFunction),j=!0),d},d.stopped=function(){return j},d.current=function(){return s()},w()},a.fn[c]=function(d){var e="string"==typeof d?d:void 0;if(e){var f=[];this.each(function(){f.push(a(this).data(b.concat(c)))});var g=arguments.length>1?Array.prototype.slice.call(arguments,1):void 0,h=[],i=function(a){var b=f[a];if(!b)throw new Error(c.concat(" $.plugin is not instantiated yet"));if("function"!=typeof b[e])throw new Error("Method ".concat(e).concat(" is not defined on ").concat(c).concat(" $.plugin"));h.push(b[e].apply(b,g))};return this.each(i),h.length>1?h:h[0]}var j="object"==typeof d?d:void 0;return this.each(function(){a(this).data(b.concat(c))||a(this).data(b.concat(c),new a.plugin(this,j))})}}(jQuery);